<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <title>现代 CLI 和 GUI 方案指南 | 玩相机的程序员</title>
    <meta name="description" content="">
    <meta name="generator" content="VuePress 1.7.1">
    
    <meta name="description" content="代码和照片本质都是创造，是一种信息的传递。我是玩相机的程序员 axuebin，用键盘和相机记录和分享。">
    <link rel="preload" href="/articles/assets/css/0.styles.fe65aa1c.css" as="style"><link rel="preload" href="/articles/assets/js/app.310f691c.js" as="script"><link rel="preload" href="/articles/assets/js/2.8d419c10.js" as="script"><link rel="preload" href="/articles/assets/js/20.9438fdb5.js" as="script"><link rel="preload" href="/articles/assets/js/3.97f21fa0.js" as="script"><link rel="preload" href="/articles/assets/js/4.3f1e58e8.js" as="script"><link rel="prefetch" href="/articles/assets/js/10.4265f4ce.js"><link rel="prefetch" href="/articles/assets/js/11.76f5f86d.js"><link rel="prefetch" href="/articles/assets/js/12.893e4bb1.js"><link rel="prefetch" href="/articles/assets/js/13.98208f64.js"><link rel="prefetch" href="/articles/assets/js/14.7a017fd2.js"><link rel="prefetch" href="/articles/assets/js/15.3426649e.js"><link rel="prefetch" href="/articles/assets/js/16.4e7dfcad.js"><link rel="prefetch" href="/articles/assets/js/17.ceed3886.js"><link rel="prefetch" href="/articles/assets/js/18.288adc60.js"><link rel="prefetch" href="/articles/assets/js/19.60c3b1e2.js"><link rel="prefetch" href="/articles/assets/js/21.35e5c2c6.js"><link rel="prefetch" href="/articles/assets/js/22.8f5f945f.js"><link rel="prefetch" href="/articles/assets/js/5.5f71be51.js"><link rel="prefetch" href="/articles/assets/js/6.f64c5fbd.js"><link rel="prefetch" href="/articles/assets/js/7.47f2d43a.js"><link rel="prefetch" href="/articles/assets/js/8.22fa8963.js"><link rel="prefetch" href="/articles/assets/js/9.16d00e35.js">
    <link rel="stylesheet" href="/articles/assets/css/0.styles.fe65aa1c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="ant-row"><div class="sidebar-button"><i aria-label="icon: bars" class="anticon anticon-bars"><svg viewBox="0 0 1024 1024" focusable="false" data-icon="bars" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0zm0 284a56 56 0 1 0 112 0 56 56 0 1 0-112 0z"></path></svg></i> <span></span></div> <div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-5 ant-col-xl-5 ant-col-xxl-4"><a href="/articles/" class="router-link-active home-link"><img src="/articles/assets/img/avatar.jpg" alt="玩相机的程序员" class="logo"> <span class="site-name">玩相机的程序员</span></a> <div class="search-box mobile-search"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div> <div class="ant-col ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-19 ant-col-xl-19 ant-col-xxl-20"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><ul role="menu" id="nav" class="ant-menu ant-menu-horizontal ant-menu-root ant-menu-light"><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/articles/" class="router-link-active">
          首页
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/articles/fe-solution/" class="router-link-active">
          前端工程化
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-item"><a href="/articles/fe-interview/">
          前端面试
        </a></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="display:none;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>
          关注我
        </span><i class="ant-menu-submenu-arrow"></i></div></li><li role="menuitem" class="ant-menu-submenu ant-menu-submenu-horizontal ant-menu-overflowed-submenu" style="visibility:hidden;position:absolute;"><div aria-haspopup="true" class="ant-menu-submenu-title"><span>···</span><i class="ant-menu-submenu-arrow"></i></div></li></ul> <!----></nav></div></div> <!----></header> <aside class="sidebar"><div><div class="ads"><div id="ads_2"><div class="ant-carousel"><div class="slick-slider slick-initialized"><div class="slick-list"><div class="slick-track"><div tabIndex="-1" data-index="0" class="slick-slide slick-active slick-current" style="outline:none;width:null;"><div><div tabIndex="-1" style="width:100%;display:inline-block;"><a target="_blank" rel="noopener noreferrer"><img src="/articles/assets/img/qrcode2.jpg" title="Ads details here"></a></div></div></div></div></div></div></div></div></div> <div role="separator" id="reset-margin" class="ant-divider ant-divider-horizontal ant-divider-dashed"></div></div> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>脚手架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/cli/desc.html" aria-current="page" title="现代 CLI 和 GUI 方案指南" class="active sidebar-link">现代 CLI 和 GUI 方案指南</a></li><li><a href="/articles/fe-solution/cli/cra.html" title="create-react-app 核心思路分析" class="sidebar-link">create-react-app 核心思路分析</a></li><li><a href="/articles/fe-solution/cli/vuecli.html" title="Vue CLI 是如何实现的 -- 终端命令行工具篇" class="sidebar-link">Vue CLI 是如何实现的 -- 终端命令行工具篇</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Babel</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/babel/first.html" title="初学 Babel 工作原理" class="sidebar-link">初学 Babel 工作原理</a></li><li><a href="/articles/fe-solution/babel/auto-require.html" title="如何用 Babel 为代码自动引入依赖" class="sidebar-link">如何用 Babel 为代码自动引入依赖</a></li><li><a href="/articles/fe-solution/babel/babel-plugin-import.html" title="简单实现 babel-plugin-import 插件" class="sidebar-link">简单实现 babel-plugin-import 插件</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>构建相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/build/rax-analysis.html" title="当我谈 Rax 按端拆分代码的时候我谈些什么" class="sidebar-link">当我谈 Rax 按端拆分代码的时候我谈些什么</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>代码规范相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/articles/fe-solution/lint/eslint.html" title="中小型前端团队代码规范工程化最佳实践 - ESLint" class="sidebar-link">中小型前端团队代码规范工程化最佳实践 - ESLint</a></li></ul></section></li></ul></aside> <main class="page"> <div class="theme-antdocs-content content__default"><h1 id="现代-cli-和-gui-方案指南"><a href="#现代-cli-和-gui-方案指南" class="header-anchor">#</a> 现代 CLI 和 GUI 方案指南</h1> <h2 id="写在前面"><a href="#写在前面" class="header-anchor">#</a> 写在前面</h2> <p>提到初始化项目，那就必须提到脚手架这个名词，那为什么这篇文章的标题不是关于脚手架而是关于初始化项目呢？</p> <p>脚手架这个名词来源于建筑工程领域，百度百科对其的解释是“脚手架是为了保证各施工过程顺利进行而搭设的工作平台”，也就是说脚手架为工人提供了施工的基础功能。将其引申到软件工程领域，又是什么含义呢？</p> <ul><li><strong>狭义上讲</strong>，脚手架是一个可以快速地使用配置好的工程模板初始化工程的工具，避免重复工作，为开发者提供便利；</li> <li><strong>广义上讲</strong>，脚手架是一个完善的面向整个前端项目生命周期的工程解决方案，从初始化、开发调试到构建部署，都提供了一系列的工具或者规范，并且集成到一个“工具”中，开发者只需关心业务逻辑开发即可，这工具也可以称为“脚手架”。</li></ul> <p>由于完整的工程解决方案会涉及到大量的知识点，在这里就不展开说了。本文介绍的脚手架仅是狭义上的项目初始化。</p> <h2 id="为什么需要脚手架"><a href="#为什么需要脚手架" class="header-anchor">#</a> 为什么需要脚手架</h2> <p>现在大多数开发者已经习惯使用 vue-cli / create-react-app 等工具来快速初始化一个项目，不妨先看看前端项目初始化的一个发展历程：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/bccc808d5ca14a67a56f842c4de1361a~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <ol><li><strong>远古时代</strong>。手动创建前端三件套：index.html/index.js/index.css，在 index.html 里分别引入 index.js 和 index.css</li> <li><strong>石器时代</strong>。将项目模板代码托管到 Git/SVN 上，使用的时候先手动将代码拉到本地，然后修改文件夹名以及项目中的配置</li> <li><strong>青铜时代</strong>。通过脚本，自动化做了一些事情：拉取项目模板、配置项目信息等</li> <li><strong>蒸汽时代</strong>。形成一套完整的命令行工具，比如 vue-cli/ create-react-app 等</li> <li><strong>工业时代</strong>。在 cra/vue-cli 的基础上定制个性能力，接入自定义模板、自动化 Git 流程、数据采集等</li> <li><strong>现代</strong>。脚手架已经跳出终端（命令行），有了可视化、WebIDE 等方案，通过更为方便的交互即可完成项目的初始化</li></ol> <p>从这样一个发展历程可以看出，脚手架解决的核心问题就是 —— <strong>帮助开发者更方便地初始化项目</strong>，这也就是为什么需要脚手架。总结来说，脚手架最重要的作用有两点：</p> <ol><li><strong>提高效率</strong>。之前初始化一个可用的项目可能需要 1 个小时甚至更久，到如今只需要敲个命令或者点下鼠标然后伸个懒腰就搞定了</li> <li><strong>降低成本</strong>。比如创建文件、配置项目信息等都是重复工作，开发者没必要花精力在这些可以自动化的事情上</li></ol> <p>在完整的前端工程体系中，脚手架起到至关重要的作用。</p> <p>接下来介绍几个目前常用的的、你一定见过的几种脚手架方案，你是否有思考过它是如何实现的呢？</p> <h2 id="常见脚手架底层方案"><a href="#常见脚手架底层方案" class="header-anchor">#</a> 常见脚手架底层方案</h2> <p>目前，常见的脚手架底层都会依赖两种方案：使用 download-git-repo 来下载模板代码，以及使用 Yeoman 来作为脚手架的一个核心能力进行扩展。</p> <h3 id="download-git-repo"><a href="#download-git-repo" class="header-anchor">#</a> download-git-repo</h3> <p>通过 <a href="https://www.npmjs.com/package/download-git-repo" target="_blank" rel="noopener noreferrer">download-git-repo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 这个 npm 包可以实现 git 仓库的拉取，支持 GitHub、GitLab 等。基于这个 npm 包，我们可以写一个简单的脚本来实现简易的模板下载功能。</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/36e2abb45cd54ab88cd070778ac82112~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>关于 <a href="https://www.npmjs.com/package/download-git-repo" target="_blank" rel="noopener noreferrer">download-git-repo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的用法在这里就不展开了，感兴趣的可以自己试试看。</p> <h3 id="yeoman-generator"><a href="#yeoman-generator" class="header-anchor">#</a> Yeoman Generator</h3> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8e6b8228399b4c9da34bec616e4e435b~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p><a href="https://yeoman.io/" title="Yeoman" target="_blank" rel="noopener noreferrer">Yeoman<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一个较早就出现的脚手架工具，它的第一次发布已经是在 8 年前，那时候我还没开始学习前端。很多人都说，前端技术太杂，各种技术更新太快，这句话也没什么问题，前端技术随着移动互联网的爆发也迎来了百花齐放的时代，一些技术在潮流中被后浪就拍没了。Yeoman 历经 8 年还存活着，这是为什么呢？不急，待我们剖析了 Yeoman 的原理之后，你会觉得它确实可以在现在的前端工程化中占有一席之地。</p> <blockquote><p>Yeoman is a generic scaffolding system allowing the creation of any kind of app.</p></blockquote> <p>将 Yeoman 放在了「常见脚手架底层方案」，是因为 Yeoman 它并不能直接初始化项目所需的文件，它是一个脚手架系统，开发者们使用 Yeoman 提供的 API 可以定制任意脚手架，完全开放、自由的，扩展性极强。</p> <p>可以理解 Yeoman 提供一个插件体系，开发者可以自定开发插件来使用 Yeoman 的能力，这个“插件”在 Yeoman 中称为 generators，所有代码生成的能力都由 generators 提供。</p> <p>是不是充满了想象力？这个包的存在，给脚手架的实现提供了无限可能性。</p> <h2 id="常见脚手架集成方案"><a href="#常见脚手架集成方案" class="header-anchor">#</a> 常见脚手架集成方案</h2> <p>目前对于前端开发者来说，社区上比较常用的两个脚手架是 Vue CLI 和 Create React App。</p> <h3 id="vue-cli"><a href="#vue-cli" class="header-anchor">#</a> Vue CLI</h3> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a819ea1818a0437da6a90f7919b14f5b~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>Vue CLI 是一个基于 Vue.js 进行快速开发的完整系统，提供了终端命令行工具、零配置脚手架、插件体系、图形化管理界面等。</p> <h4 id="核心思想"><a href="#核心思想" class="header-anchor">#</a> 核心思想</h4> <p>Vue CLI 的核心原理主要有两部分：</p> <ol><li><strong>预设管理</strong>。在 CLI 内部通过统一的实例对 prompt（终端交互）和 preset（预设）进行管理，交互之前存在互联关联层层递进的关系，在初始化的时候，这些用于终端交互的配置就初始化在内存中，根据用户的选择触发不同的逻辑。</li> <li><strong>灵活的插件系统</strong>。在 Vue CLI 中使用了一套基于插件的架构，将 CLI 的逻辑和生成代码的逻辑解耦，通过不同的插件去修改文件内容和配置，生成最终的代码。</li></ol> <p>Vue CLI 同时还提供了图形化界面对项目进行初始化、管理，这也是和 Create React App 等 CLI 不同的地方之一。</p> <h4 id="自定义模板"><a href="#自定义模板" class="header-anchor">#</a> 自定义模板</h4> <p>Vue CLI 官方初始化模板只有一个，内置在 <code>@vue/cli-service</code>  核心插件中，CLI 提供的 <code>api.render('./template')</code>  方法会将模板通过 EJS 模板引擎渲染到内存中，最终在 CLI 中通过 Node 的写文件操作写到本地目录中。</p> <p>如果开发者需要自定义模板，需要开发一个插件来<a href="https://cli.vuejs.org/zh/dev-guide/plugin-dev.html#%E5%88%9B%E5%BB%BA%E6%96%B0%E7%9A%84%E6%A8%A1%E6%9D%BF" target="_blank" rel="noopener noreferrer">创建新的模板<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，在插件中编写相关生成代码的逻辑。</p> <h4 id="源码解析"><a href="#源码解析" class="header-anchor">#</a> 源码解析</h4> <p>如果你想了解更多关于 Vue CLI 的细节，可以阅读 <a href="http://axuebin.com/articles/fe-solution/cli/vuecli.html" target="_blank" rel="noopener noreferrer">Vue CLI 是如何实现的 -- 终端命令行工具篇<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="create-react-app"><a href="#create-react-app" class="header-anchor">#</a> Create React App</h3> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/417c203ef4204a41b9df83ba04e7c2a2~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>Create React App 是 React  官方创建应用的脚手架。</p> <h4 id="核心思想-2"><a href="#核心思想-2" class="header-anchor">#</a> 核心思想</h4> <p>Create React App 的核心思想我理解主要是：</p> <ol><li><strong>脚手架核心功能中心化</strong>：使用 <code>npx</code> 保证每次用户使用的都是最新版本，方便功能的升级</li> <li><strong>模板去中心化</strong>：方便地进行模板管理，这样也允许用户自定义模板</li> <li><strong>脚手架逻辑和初始化代码逻辑分离</strong>：CLI 中只负责核心依赖、模板的安装和脚手架的核心功能，而初始化代码的逻辑在 <code>react-scripts</code> 包里执行</li></ol> <h4 id="自定义模板-2"><a href="#自定义模板-2" class="header-anchor">#</a> 自定义模板</h4> <p>使用 Create React App 时，可以传入 <code>template</code> 参数使用自定义模板：</p> <div class="language-bash extra-class"><pre class="language-bash"><code>npx create-react-app my-app --template <span class="token punctuation">[</span>template-name<span class="token punctuation">]</span>
</code></pre></div><p>如果不传，则使用 cra-template 这个默认模板。</p> <p>比如， <code>--template typescript</code> 就会使用 cra-template-typescript 这个 TypeScript 的模板。</p> <p>用户可以按照<a href="https://create-react-app.dev/docs/custom-templates/" target="_blank" rel="noopener noreferrer">模板规范<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>发布自定义模板，并且发布到 <code>npm</code> 上。最主要的一个规范是，它的 npm 包名是 <code>cra-template-xxx</code>。</p> <h4 id="源码解析-2"><a href="#源码解析-2" class="header-anchor">#</a> 源码解析</h4> <p>如果你想了解更多关于 <code>create-react-app</code> 的细节，可以阅读 <a href="http://axuebin.com/articles/fe-solution/cli/cra.html" target="_blank" rel="noopener noreferrer">create react app 核心思路分析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h3> <p>无论是 create-react-app 还是 Vue CLI，在设计的时候都会尽量考虑<strong>插件机制</strong>，将能力开放出去给开发者再将功能集成到 CLI。除了有利于自身的功能迭代之外，对于社区开发者来说，都具备了足够的开放性和扩展性。</p> <p>并且可以看到，这两个脚手架已经抛开了对 git 的依赖，将模板的代码通过 npm 进行管理，并且借助一些类似 ejs 等的模板引擎能力，对静态模板中的代码进行渲染替换，模板代码可以更加多样化。</p> <h2 id="常见现代方案"><a href="#常见现代方案" class="header-anchor">#</a> 常见现代方案</h2> <p>到了“工业时代”，脚手架不仅仅是在 CLI 中通过 <code>init</code>  等命令生成一个代码目录这么单调了，趋势逐渐向平台化发展，并且枯燥单调的终端界面也在往 UI 图形化界面过渡。</p> <h3 id="图形化界面-vue-ui"><a href="#图形化界面-vue-ui" class="header-anchor">#</a> 图形化界面：Vue UI</h3> <p>先来看一下图形化界面，上文提到的 Vue CLI 就提供了对应的图形化界面来对项目进行管理。</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/c6d6d67f115c4f93aeec806a9524e678~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>相比于 CLI 枯燥的界面和交互单一，UI 图形化界面有更丰富的交互形式，对于现代开发者来说美观。当然，它不是简单的一个 web 界面，你可以先使用 <code>vue ui</code>  体验一下。</p> <p>这是 Vue UI 的整体架构图：</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/0859476e74bc4a3781e3a6be9d297c63~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>我们将 Vue UI 看作运行在浏览器的客户端，而本地终端起了一个 Node 服务当作是服务端。通过插件机制，在插件中开发者可以调用插件 API 做一些事情，也可以完成客户端和服务端的通信。比如在图形化界面上初始化了项目之后，终端会收到事情“触发”，然后将项目代码初始化到本地文件系统中。</p> <p>参考链接：<a href="https://cli.vuejs.org/guide/creating-a-project.html#using-the-gui" target="_blank" rel="noopener noreferrer">https://cli.vuejs.org/guide/creating-a-project.html#using-the-gui<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="ide-集成编辑器-小程序开发者工具"><a href="#ide-集成编辑器-小程序开发者工具" class="header-anchor">#</a> IDE 集成编辑器：小程序开发者工具</h3> <p>除了 UI 图形界面之外，如今初始化项目的能力也常被集成在 IDE 中，比如小程序开发工具。</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/be932e6d7a3644a2be86fe3f2f75669d~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>打开支付宝小程序开发者工具，就可以直接根据需要选择一个功能完备的模板初始化项目，比如开发者想要在支付宝小程序中体验 Serverless 的功能，就可以直接选中 Serverless 入门 DEMO 这个模板创建项目。</p> <p>项目初始化之后，开发者也是在这个 IDE 中进行开发、构建、发布，在整个开发链路中，都不会有切换工具带来的负担，对于开发者而言，开发体验是非常棒的。</p> <p>参考链接：<a href="https://opendocs.alipay.com/mini/ide/start-page" target="_blank" rel="noopener noreferrer">https://opendocs.alipay.com/mini/ide/start-page<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="vscode-插件-iceworks"><a href="#vscode-插件-iceworks" class="header-anchor">#</a> VSCode 插件：Iceworks</h3> <p>目前很多前端开发者都在用 VSCode 整个编辑器，如果让开发者为了一些提效的能力去放弃常用、熟悉的编辑器，也不是一个很好的选择。VSCode 插件作为一个轻量级的接入方式，也可以让开发者在 VSCode 中使用初始化项目等功能。</p> <p>比如，Iceworks 就是一款可视化智能研发助手，帮助开发者快速使用可视化和智能化的能力进行应用开发。</p> <p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/937818fad4744b49b7d2c65a9fddaec3~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p> <p>在 VSCode 中安装了 Iceworks 插件之后，就有图形化界面引导创建应用，点击完成之后就直接在本地生成项目文件了。在这之后，就是正常地使用 VSCode 进行开发。</p> <p>参考链接：<a href="https://ice.work/docs/guide/gui-start" target="_blank" rel="noopener noreferrer">https://ice.work/docs/guide/gui-start<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h2> <p>这篇文章主要是介绍前端工程化中初始化项目的部分，CLI 章节对 Vue CLI 和 Create React App 进行了源码解析，其它章节没有展开介绍，感兴趣的朋友可以深入了解一下。</p> <div class="article-footer" data-v-4713b8bc><div role="separator" class="ant-divider ant-divider-horizontal" data-v-4713b8bc></div> <p data-v-4713b8bc>
    关注公众号
    <span class="bold" data-v-4713b8bc>玩相机的程序员</span></p> <p data-v-4713b8bc>原创文章持续更新中</p> <img src="/articles/assets/img/qrcode.jpg" data-v-4713b8bc> <p data-v-4713b8bc>我是 axuebin，用键盘和相机记录生活</p></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/articles/fe-solution/cli/cra.html">
        create-react-app 核心思路分析
        <i aria-label="icon: right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 0 0 302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 0 0 0-50.4z"></path></svg></i></a></span></p></div> </main> <!----></div><div class="global-ui"><div class="right-group" data-v-63a47ae2><div class="item" data-v-63a47ae2><div class="title" data-v-63a47ae2>关注微信公众号</div> <div class="desc" data-v-63a47ae2>高质量原创文章</div> <img src="/articles/assets/img/qrcode.jpg" alt="玩相机的程序员" title="玩相机的程序员" data-v-63a47ae2></div> <div class="item" data-v-63a47ae2><div class="title" data-v-63a47ae2>加入前端划水群</div> <div class="desc" data-v-63a47ae2>
      扫码备注
      <span class="red" data-v-63a47ae2>加群</span></div> <img src="/articles/assets/img/wechat.jpg" alt="axuebin" title="axuebin" data-v-63a47ae2></div></div></div></div>
    <script src="/articles/assets/js/app.310f691c.js" defer></script><script src="/articles/assets/js/2.8d419c10.js" defer></script><script src="/articles/assets/js/20.9438fdb5.js" defer></script><script src="/articles/assets/js/3.97f21fa0.js" defer></script><script src="/articles/assets/js/4.3f1e58e8.js" defer></script>
  </body>
</html>